[automation] Registered rule: High Temperature ‚Üí Exhaust Fans (high-temp-exhaust)
[automation] Registered rule: Low Humidity ‚Üí Activate Misters (low-humidity-misters)
[automation] Registered rule: Motion Detection ‚Üí Security Lights (motion-security-lights)
[automation] Loaded 3 default automation rules
[automation] Rules engine initialized with default farm automation rules
[automation] Pre-AI automation layer initialized (sensors + smart plugs)
[HPM] Proxy created: /  -> http://100.65.187.59:8089
[HPM] Subscribed to http-proxy events: [ 'proxyReq', 'proxyRes', 'error', 'close' ]
[HPM] Proxy created: /  -> http://100.65.187.59:8089
[HPM] Subscribed to http-proxy events: [ 'proxyReq', 'proxyRes', 'error', 'close' ]
[charlie] running http://127.0.0.1:8091 ‚Üí http://100.65.187.59:8089
[HPM] Router new target: http://100.65.187.59:8089 -> "http://100.65.187.59:8089"
[HPM] GET /api/devicedatas -> http://100.65.187.59:8089
(node:51889) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
[‚Üí] GET /api/devicedatas -> http://100.65.187.59:8089/api/devicedatas
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
‚ö†Ô∏è  404 Not Found: GET /apple-touch-icon-precomposed.png
‚ö†Ô∏è  404 Not Found: GET /apple-touch-icon.png
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
fetchAndCacheWeather error: fetch failed
fetchAndCacheWeather error: fetch failed
fetchAndCacheWeather error: fetch failed
‚ö†Ô∏è  404 Not Found: GET /apple-touch-icon-precomposed.png
‚ö†Ô∏è  404 Not Found: GET /apple-touch-icon.png
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
[switchbot] Rate limited by API. Will use cached data if available.
SwitchBot API error: Error: Too Many Requests
    at switchBotApiRequest (file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1032:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1096:24
    at async file:///Users/petergilbert/Light-Engine-Charlie/server-charlie.js:1192:20 {
  status: 429,
  response: { message: 'Too Many Requests' },
  code: 'SWITCHBOT_RATE_LIMITED'
}
[switchbot] Rate limited - returning rate limit status (no mock fallback)
‚ö†Ô∏è  404 Not Found: GET /status
fetchAndCacheWeather error: fetch failed
üõë Received SIGTERM, shutting down gracefully
